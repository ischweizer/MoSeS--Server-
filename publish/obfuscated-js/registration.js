$("#registerHere").validate({rules:{firstname:"required",lastname:"required",email:{required:!0,email:!0},password:{required:!0,minlength:6},password_repeat:{required:!0,equalTo:"#password"}},messages:{firstname:"Enter your firstname",lastname:"Enter your lastname",email:{required:"Enter your email address",email:"Enter valid email address"},password:{required:"Enter your password",minlength:"Password must be minimum 6 characters"},password_repeat:{required:"Confirm password",equalTo:"Password and Confirm Password must match"}},
errorClass:"help-inline",errorElement:"span",highlight:function(c,b,d){$(c).parents(".control-group").removeClass("success");$(c).parents(".control-group").addClass("error")},unhighlight:function(c,b,d){$(c).parents(".control-group").removeClass("error");$(c).parents(".control-group").addClass("success")}});
$("#email").blur(function(){if($(this).valid()){var c=$(this).val();$.ajax({type:"POST",url:"content_provider.php",data:{isEmailUnique:c},success:function(b){if("0"!=b&&"1"==b){$("#email").parents(".control-group").removeClass("success");$("#email").parents(".control-group").addClass("error");b=document.createElement("span");b.setAttribute("id","tempErrorSpan");b.setAttribute("for","email");b.setAttribute("generated","true");b.setAttribute("class","help-inline");b.setAttribute("style","display: inline-block;");
b.innerHTML="Email is already in use, please choose another one";var c=document.getElementById("email"),a=document.getElementById("tempErrorSpan");null!=a?c.parentNode.replaceChild(b,a):c.parentNode.appendChild(b)}}})}});$("#email").keyup(function(){var c=document.getElementById("email"),b=document.getElementById("tempErrorSpan");null!=b&&c.parentNode.removeChild(b)});
$("#registerHere :submit").click(function(c){var b=$(this);b.removeClass("btn-success");b.attr("disabled",!0);b.text("Working...");if($("#registerHere").valid()){var d=$("#email").val();$.ajax({type:"POST",url:"content_provider.php",data:$("#registerHere").serialize(),success:function(a){switch(a){case "0":for(a=document.getElementById("registration_fieldset");a.lastChild&&"LEGEND"!=a.lastChild.tagName;)a.removeChild(a.lastChild);var c=document.createElement("h4");c.innerHTML="We have sent an email for confirmation to <i>"+
d+"</i>";a.appendChild(c);break;case "1":$("#email").parents(".control-group").removeClass("success");$("#email").parents(".control-group").addClass("error");a=document.createElement("span");a.setAttribute("id","tempErrorSpan");a.setAttribute("for","email");a.setAttribute("generated","true");a.setAttribute("class","help-inline");a.setAttribute("style","display: inline-block;");a.innerHTML="Email is already in use, please choose another one";var c=document.getElementById("email"),e=document.getElementById("tempErrorSpan");
null!=e?c.parentNode.replaceChild(a,e):c.parentNode.appendChild(a);b.addClass("btn-success");b.attr("disabled",!1);b.text("Create account");break;case "2":for(a=document.getElementById("registration_fieldset");a.lastChild&&"LEGEND"!=a.lastChild.tagName;)a.removeChild(a.lastChild);c=document.createElement("h4");c.innerHTML="There was a problem sending an email for confirmation. We are sorry :(";a.appendChild(c);break;default:for(a=document.getElementById("registration_fieldset");a.lastChild&&"LEGEND"!=
a.lastChild.tagName;)a.removeChild(a.lastChild);c=document.createElement("h4");c.innerHTML="An unknown error has occured. We are sorry :("}}})}else b.addClass("btn-success"),b.attr("disabled",!1),b.text("Create account");c.preventDefault()});